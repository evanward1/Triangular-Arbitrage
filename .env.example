# Exchange API Configuration
# Copy this to .env and add your real API keys
# Priority order: Binance → Kraken → KuCoin → Coinbase

# Binance API Keys (PRIORITY #1 - Highest liquidity & lowest fees)
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_SECRET=your_binance_secret_here

# Kraken API Keys
KRAKEN_API_KEY=your_kraken_api_key_here
KRAKEN_SECRET=your_kraken_secret_here

# KuCoin API Keys
KUCOIN_API_KEY=your_kucoin_api_key_here
KUCOIN_SECRET=your_kucoin_secret_here
KUCOIN_PASSWORD=your_kucoin_password_here

# Coinbase Pro API Keys
COINBASE_API_KEY=your_coinbase_api_key_here
COINBASE_SECRET=your_coinbase_secret_here
COINBASE_PASSPHRASE=your_coinbase_passphrase_here

# Trading Configuration
TRADING_MODE=paper  # 'paper' for simulation, 'live' for real trading
MAX_POSITION_SIZE=100  # Maximum USD per trade
MIN_PROFIT_THRESHOLD=0.10  # Minimum profit % to execute trade (0.05-0.15 recommended)

# Slippage Configuration
SLIPPAGE_MODE=static  # 'static' or 'dynamic' - dynamic uses order book depth
SLIPPAGE_PCT_ESTIMATE=0.05  # Static slippage estimate % (0.03-0.10 typical)
SLIPPAGE_FLOOR_BPS=2  # Minimum slippage in basis points (0.02%) for dynamic mode
MAX_SLIPPAGE_LEG_BPS=35  # Maximum slippage per leg in basis points (35 = 0.35%)

# Advanced Trading Parameters
MAX_LEG_LATENCY_MS=2000  # Maximum milliseconds per trade leg before timeout

# Kill-Switch (circuit breaker for daily loss)
KILL_SWITCH_ENABLED=true  # Enable kill-switch to halt trading on large losses
MAX_DAILY_DRAWDOWN_PCT=2.0  # Maximum daily loss % before halting (2.0 = 2%)

# Smart Depth Gating (replaces old MIN_FRACTION_OF_TARGET)
DEPTH_ABS_MIN_USD=10.0  # Absolute minimum size to allow ($10 catches tiny but real fills)
DEPTH_REL_MIN_FRAC=0.002  # Relative minimum (0.2% of balance, not 5%)
LEG_MIN_NOTIONAL_USD=10.0  # Per-leg exchange minimum notional

# Execution Fee Model (for more accurate opportunity filtering)
EXPECTED_MAKER_LEGS=2  # How many of 3 legs you expect to fill as maker (0-3)
MAKER_PROB=0.6  # Probability of maker fill success (0.0-1.0)

# Depth Sizing
DEPTH_SIZE_MAX_SLIPPAGE_PCT=0.30  # Max slippage per leg for depth-limited sizing (0.30% = 30 bps)

# Triangle Filtering
EXCLUDE_STABLECOIN_ONLY=true  # Filter out USD/USDT/USDC only triangles (highly recommended)
TRIANGLE_BASES=  # Limit base currencies (e.g., "USD,USDT,BTC"), empty = all allowed
SYMBOL_ALLOWLIST=  # Only trade these symbols (comma-separated), empty = all allowed
EXCLUDE_SYMBOLS=  # Never trade these symbols (comma-separated)
EXCLUDE_SYMBOLS_REGEX=  # Regex pattern to exclude symbols (e.g., "^(BONK|HYPE|PEPE|RENDER)$")

# Per-Symbol Slippage Caps (overrides MAX_SLIPPAGE_LEG_BPS for specific pairs)
PER_SYMBOL_SLIPPAGE_CAPS=  # Format: "BONK/USD:0.20,PEPE/USD:0.25" (percent values)
SLIPPAGE_MONITOR_WINDOW=20  # Rolling window size for chronic offender detection

# Live Trading Safety (required for live mode)
LIVE_CONFIRM=NO  # Must be set to 'YES' to enable live trading

# Paper Trading Configuration
PAPER_USDT=1000  # Starting USDT balance for paper trading
PAPER_USDC=1000  # Starting USDC balance for paper trading
BASE_CASH=USDT  # Base currency for paper trading (USDT or USDC)

# Display & Monitoring
VERBOSITY=normal  # 'quiet', 'normal', or 'debug'
TOPN=3  # Show top N opportunities per scan
EQUITY_PRINT_EVERY=5  # Print equity summary every N scans (default: 5)
POLL_SEC=10  # Seconds between scans
RUN_MIN=0  # Run for N minutes (0 = infinite)
SHOW_USD=true  # Show USD P&L calculations
SHOW_DELTA=true  # Show deltas between scans
REASON_BUCKETS=true  # Track reasons for rejected opportunities

# CSV Logging
WRITE_SCAN_CSV=false  # Write detailed scan metrics to logs/scan_summary.csv

# Web Server Security
WEB_API_KEY=your_secret_api_key_here  # Set a strong API key for web dashboard access
WEB_ENABLE_AUTH=true  # Require API key authentication for web endpoints
WEB_ENABLE_RATE_LIMIT=true  # Enable rate limiting (recommended)
WEB_RATE_LIMIT_PER_MIN=60  # Max requests per IP per minute
WEB_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000  # CORS allowed origins (comma-separated)
WEB_PORT=8000  # Web server port
